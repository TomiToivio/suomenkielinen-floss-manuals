<div id="main-content"><h1>Alikomennot</h1>
<p>Voit suorittaa komentotulkissa yhden komennon toisen komennon sisällä. Tässä on yksinkertainen esimerkki:</p>
<pre><strong>grep `date +%b` apache_error_log</strong>
</pre>
<p><strong>Tarkemerkki</strong> (`) on yleensä samassa näppäimessä kuin tilde (´).</p>
<p>Komento tarkemerkkien "``" sisällä suoritetaan ensin. Ulostulo laitetaan sen jälkeen isomman komennon sisään. Niinpä komentotulkki suorittaa ensin komennon:</p>
<p> </p>
<pre><strong>date +%b</strong>
</pre>
<p>Tämä on komento "<code>date</code>" parametrillä, joka alkaa plus-merkillä "+", jolla osoitetaan ulostuloon haluttu formaatti. Formaatti<code><span> "+%</span>b</code>" on melko outo tapa pyytää "<code>date"</code> -komentoa tulostamaan vain kolmen kirjaimen lyhenne nykyisestä kuukaudesta. Jos esimerkiksi ajamme tämän komennon maaliskuussa, se tulostaa: </p>
<pre>Mar
</pre>
<p>Kolmikirjaiminen lyhenne nykyisestä kuukaudesta siis asetetaan ympäröivän "<code>grep</code>" -komennon sisään. Maaliskuussa tämä komento on siis muodossa:</p>
<pre><strong>grep Mar apache_error_log</strong>
</pre>
<p>Lokitiedosto <em>"apache_error_log"</em> tallentaa viestit päivämäärillä ja päivämäärä sisältää kuukauden kolmikirjaimisen lyhenteen:</p>
<pre>[Mon Mar 09 14:44:23 2009] [notice] Apache/2.0.59 (Ubuntu) PHP/5.2.6 DAV/2 configured
</pre>
<p>Mitä tämä komento siis tekee? Se näyttää kaikki nykyisen kuukauden aikana kirjatut lokiviestit tiedostosta <em>"apache_error_log"</em>. Tietenkin lokitiedostossa voi olla useamman vuoden viestit, jolloin saat myös edellisen vuoden saman kuukauden viestit. Laittamalla komennon <code>"date"</code> komennon "<code>grep"</code> sisään olemme luoneet komennon, jonka voimme tallentaa ja suorittaa milloin tahansa määrittelemättä oikeaa kuukautta. Voimme esimerkiksi tallentaa tämän aloitustiedostoon <em>".bashrc</em>":</p>
<pre><strong>alias monthlog="grep `date +%b` apache_error_log"</strong></pre>
<p>Nyt meillä on oma komentomme, <code>"monthlog</code>", joka näyttää nykyiset Apachen lokitiedostot.</p>
<p>Bashissa voit tehdä saman asian syntaksilla, joka on monista yksinkertaisempi:</p>
<pre><strong>grep $(date +%b) apache_error_log</strong></pre>
<p>Tarkemerkkien sijasta voit laittaa dollarimerkin ja pistää komennon sulkujen sisään.</p>
<p>Komennon korvaus on kuin putki (merkki "|"). Komennon korvaus on kuitenkin joustavampi kuin putki, sillä voit laittaa yhden komennon mihin tahansa toisen komennon sisälle. On olemassa yksi ero: putki antaa molempien komentojen toimia samaan aikaan. Jos komennon sisään laitettu komento kestää kauan, ulompi komento ei toimi ennen kuin sisempi komento on suoritettu.</p>
<p>Jos sisempi komento voi tuottaa ulostuloa, joka on enemmän kuin yksi sana (kuten "Mar 09"), voit lähettää sen yhtenä argumenttina laittamalla komennon lainausmerkkeihin. Komento <code>"grep"</code> tässä osassa vaatii merkkijonon lähettämistä yhtenä parametrinä.</p></div><ul Class="menu-goes-here"><li Class="booki-section">Johdanto</li><li><a href="/komentorivin-perusteet/index">Ota komento</a></li>
<li Class="booki-section">Perusteet</li><li><a href="/komentorivin-perusteet/ch003_aloittaminen">Käytön aloittaminen</a></li>
<li><a href="/komentorivin-perusteet/ch004_syntaksi">Syntaksi</a></li>
<li><a href="/komentorivin-perusteet/ch005_ympariinsa-siirtyminen">Ympäriinsä siirtyminen</a></li>
<li><a href="/komentorivin-perusteet/ch006_tiedostorakenne">Tiedostorakenne</a></li>
<li Class="booki-section">Komennot</li><li><a href="/komentorivin-perusteet/ch008_peruskomennot">Peruskomennot</a></li>
<li><a href="/komentorivin-perusteet/ch009_jarjestelmanvalvojat">Järjestelmänvalvoja</a></li>
<li><a href="/komentorivin-perusteet/ch010_useammat-tiedostot">Useammat tiedostot</a></li>
<li><a href="/komentorivin-perusteet/ch011_kirjoita-vahemman">Kirjoita vähemmän</a></li>
<li Class="booki-section">Keskivaikeita komentoja</li><li><a href="/komentorivin-perusteet/ch013_putkitus">Putkitus</a></li>
<li><a href="/komentorivin-perusteet/ch014_komentohistoria">Komentohistoria</a></li>
<li><a href="/komentorivin-perusteet/ch015_standarditiedostot">Standarditiedostot</a></li>
<li Class="booki-section">Kehittyneempiä komentoja</li><li><a href="/komentorivin-perusteet/ch017_kayttooikeudet">Käyttöoikeudet</a></li>
<li><a href="/komentorivin-perusteet/ch018_interaktiivinen-muokkaus">Interaktiivinen muokkaus</a></li>
<li><a href="/komentorivin-perusteet/ch019_poistumisen-tarkastaminen">Poistumisen tarkastaminen</a></li>
<li><a href="/komentorivin-perusteet/ch020_alikomennot">Alikomennot</a></li>
<li><a href="/komentorivin-perusteet/ch021_hakemistot">Hakemistot</a></li>
<li><a href="/komentorivin-perusteet/ch022_kustomisointi">Kustomisointi</a></li>
<li><a href="/komentorivin-perusteet/ch023_parametrien-korvaaminen">Parametrien korvaaminen</a></li>
<li><a href="/komentorivin-perusteet/ch024_gnuscreen">GNUScreen</a></li>
<li><a href="/komentorivin-perusteet/ch025_ssh">SSH</a></li>
<li><a href="/komentorivin-perusteet/ch026_ohjelmien-asentaminen">Ohjelmien asentaminen</a></li>
<li Class="booki-section">Tekstieditorit</li><li><a href="/komentorivin-perusteet/ch028_tekstieditorit">Tekstieditorit</a></li>
<li><a href="/komentorivin-perusteet/ch029_nano">Nano</a></li>
<li><a href="/komentorivin-perusteet/ch030_vi-ja-vim">Vi ja Vim</a></li>
<li><a href="/komentorivin-perusteet/ch031_emacs">Emacs</a></li>
<li><a href="/komentorivin-perusteet/ch032_kedit">Kedit</a></li>
<li><a href="/komentorivin-perusteet/ch033_gedit">Gedit</a></li>
<li Class="booki-section">Skriptaus</li><li><a href="/komentorivin-perusteet/ch035_skriptaus">Skriptaus</a></li>
<li><a href="/komentorivin-perusteet/ch036_skriptien-huoltaminen">Skriptien huoltaminen</a></li>
<li><a href="/komentorivin-perusteet/ch037_muut-kielet">Muut kielet</a></li>
<li><a href="/komentorivin-perusteet/ch038_sed">Sed</a></li>
<li><a href="/komentorivin-perusteet/ch039_awk">AWK</a></li>
<li><a href="/komentorivin-perusteet/ch040_saannolliset-lausekkeet">Säännölliset lausekkeet</a></li>
<li><a href="/komentorivin-perusteet/ch041_perl">Perl</a></li>
<li><a href="/komentorivin-perusteet/ch042_ruby">Ruby</a></li>
<li><a href="/komentorivin-perusteet/ch043_python">Python</a></li>
<li Class="booki-section">Komennot nopeasti</li><li><a href="/komentorivin-perusteet/ch045_komentojen-pikaopas">Komentojen pikaopas</a></li>
<li Class="booki-section">Liitteet</li><li><a href="/komentorivin-perusteet/ch047_tasta-kayttooppaasta">Tästä käyttöoppaasta</a></li>
<li><a href="/komentorivin-perusteet/ch048_tekijat">Tekijät</a></li>
</ul>
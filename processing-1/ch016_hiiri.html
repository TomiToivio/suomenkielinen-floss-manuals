<div id="main-content"><h1>Hiiren tapahtumat</h1>
<p><span id="result_box" class="long_text"><span> <br></span><span>Tässä luvussa näemme ohjelman vuorovaikutuksen hiiren kanssa. Processing kerää hiireltä tietoja, kuten hiiren sijainnin ja napsautukset. Luomme pienen ohjelman, joka perustuu ympyröihin, jolla esittelemme satunnaiset liikkeet.</span></span></p>
<h2><span id="result_box" class="long_text"><span>Hiiren sijainti</span></span></h2>
<p><span id="result_box" class="long_text"><span>Hiiren koordinaatit ikkunassa nähdään kahdella muuttujalla: mouseX ja mouseY. Niillä voimme tietää hiiren sijainnin suhteessa piirrosikkunaamme, alkaen ikkunan vasemmasta yläkulmasta. Seuraavassa esimerkissä luomme ohjelman, joka piirtää ympyrän hiiren sijaintiin. </span></span></p>
<p><img src="_booki/processing-1/static/01_Souris_Cercles-fi_1.png" alt=""></p>
<pre>void setup() {
  size(200,200);
  smooth();
}

void draw() {
  ellipse(mouseX,mouseY,15,15);
}</pre>
<p><span id="result_box" class="long_text"><span>Muutamme edellisen esimerkin muuttamalla dynaamisesti ympyrän läpimittaa. Se valitaan satunnaisesti metodilla random(), joka luo satunnaisen numeron tietyllä arvovälillä. Kun Processing tekee komennon execute(), muuttuja r täytetään satunnaisella numerolla väliltä 3-30: 12, 25, 23, 11, 22, 4, 10, 11, 25... Ympyrän läpimitan muutos johtaa ympyrän välkkymiseen hiiren kursorin ympärillä. </span></span></p>
<p> </p>
<p><img title="02_Souris_Cercles_Random" src="_booki/processing-1/static/02_Souris_Cercles_Random-fi.png" alt="02_Souris_Cercles_Random" width="280" height="302"></p>
<pre>void setup() {
  size(300,300);
  smooth();
}

void draw() {
  <span>float</span><strong> r = random(3,30);</strong>
  ellipse(mouseX,mouseY,<strong>r</strong>,<strong>r</strong>);
}</pre>
<p><span id="result_box" class="long_text"><span>Kun hiiri lähtee ikkunasta, hiiren sijaintia ei enää välitetä ohjelmallemme. Ympyrät piirretään ja ne kerääntyvät hiiren viimeiseen sijaintiin. </span></span></p>
<h2><span id="result_box" class="long_text"><span>Napsautukset</span></span></h2>
<p>Voimme vastaanottaa hiiren napsautuksia käyttäen metodeita mousePressed() ja mouseReleased().</p>
<p><span id="result_box" class="long_text"><span>Molemmat metodit sallivat meidän tietää koska hiiren nappia painetaan ja koska se on vapaana. Edellisen esimerkin mukaan voimme muuttaa ympyrän täyttöväriä sen mukaan painaako käyttäjä hiiren nappia. Valitsemme harmaan sävyn satunnaisesti komennolla fill(), kun hiiren nappia painetaan. <br></span></span></p>
<p><img title="03_Souris_Cercles_Random_Gris_02" src="_booki/processing-1/static/03_Souris_Cercles_Random_Gris_02-fi.png" alt="03_Souris_Cercles_Random_Gris_02" width="280" height="302"> </p>
<pre>float ton_de_gris = 255;

void setup() {
  size(300, 300);
  smooth();
}

void draw() {
  float r = random(10, 80);
  fill(grey);
  ellipse(mouseX, mouseY, r, r);
}

void mousePressed() {
  grey = random(255);
}
</pre>
<p><span id="result_box" class="long_text"><span>Processingin avulla voimme tietää mitä hiiren nappia painetttiin. Tähän käytämme muuttujaa MouseButtons, joka tunnistaa painetaanko vasenta, oikeaa tai keskimmäistä hiiren nappia (LEFT, RIGHT, CENTER). Käytä tätä muuttujaa piirtääksesi ympyrän, joka vaihtaa väriä riippuen siitä mitä hiiren nappia painetaan. </span></span></p>
<p><img title="07_Souris_Composition_2" src="_booki/processing-1/static/07_Souris_Composition_2-fi.png" alt="07_Souris_Composition_2" width="600" height="219"></p>
<pre>void setup() {
  size(200,200);
  smooth();
}

void draw() {
  background(255);
  ellipse(100,100,200,200);
}

void mousePressed() {
  if (mouseButton == LEFT)   fill(0);
  if (mouseButton == RIGHT)  fill(255);
  if (mouseButton == CENTER) fill(128);
}
</pre>
<h2>Muut tapahtumat</h2>
<p>Processing kaappaa kaksi muuta hiiren tapahtumaa täsmälleen sen sijainnissa ikkunan yläpuolella.</p>
<p>mouseMoved() havaitsee hiiren liikkeen kun se liikkuu piirrosikkunan yläpuolella. Jos hiiren osoitin poistuu ikkunan alueelta tai lopettaa liikkeen tämä metodi ei toimi.</p>
<p>mouseDragged() kutsutaan, kun käyttäjä napsauttaa nappia ja liikuttaa hiirtä ikkunan päällä. Sen ominaisuuksiin kuuluu hiiren vetämisen hallinta. mouseDragged() toimii, vaikka hiiren osoitin lähtisi ulos ikkunasta. <span id="result_box" class="long_text"><span> <br></span></span></p>
<p><span id="result_box" class="long_text"><span>Seuraavassa esimerkissä käytämme näitä metodeja. Kun mouseMoved() kutsutaan, muutetaan ympyrän täyttöväriä, ja kun mouseDragged kutsutaan, muutetaan ympyrän kokoa. <br></span></span><img title="04_Souris_Dragged" src="_booki/processing-1/static/04_Souris_Dragged-fi.png" alt="04_Souris_Dragged" width="280" height="302"></p>
<pre>int r = 100;
int c = 100;

void setup() {
  size(255, 255);
  smooth();
}

void draw() {
  background(255);
  fill(c);
  ellipse(width/2, height/2, r, r);
}

void mouseMoved() {
    c = mouseY;
}

void mouseDragged() {
  r = mouseX;
}
</pre>
<h2> </h2>
<h2>Kohdistin</h2>
<p><span id="result_box" class="long_text"><span>Joskus on hyvä kätkeä hiiren kohdistin. Tässä on käsky kohdistimen piilottamiseksi:  </span></span></p>
<pre>noCursor();</pre>
<p><span id="result_box" class="long_text"><span>On myös mahdollista muuttaa kursorin muotoa osoittamaan eri tapahtumia käyttäjälle. Tähän käytetään komentoa cursor() parametreillä ARROW, CROSS, HAND, MOVE, TEXT, WAIT. </span></span></p>
<p><img src="_booki/processing-1/static/Screen_shot_2010_09_09_at_23-28-56-fi_1.png" alt=""></p>
<pre>void setup() { 
   fill(255);
   rect(10, 10, 20, 80);
   fill(175);
   rect(40, 10, 20, 80);
   fill(100);
   rect(70, 10, 20, 80);
}

void draw() 
<span id="result_box"><span>   // Katsomme voitko lennättää yhtä kolmesta neliöstä    </span>// Ja muutamme kursoria vastaavasti </span>
   if (mouseX &gt; 10 &amp;&amp; mouseX &lt; 30 &amp;&amp; mouseY &gt; 10 &amp;&amp; mouseY &lt; 90) {
      <strong>cursor(HAND);</strong> // Näyttää käden
   }
   else
   if (mouseX &gt; 40 &amp;&amp; mouseX &lt; 60 &amp;&amp; mouseY &gt; 10 &amp;&amp; mouseY &lt; 90) {
      <strong>cursor(ARROW);</strong> // Näyttää nuolen
   }
   else
   if (mouseX &gt; 70 &amp;&amp; mouseX &lt; 90 &amp;&amp; mouseY &gt; 10 &amp;&amp; mouseY &lt; 90) {
      <strong>cursor(WAIT);</strong> // Näyttää tiimalasin
  }
  else {
     <strong>cursor(CROSS);</strong> // Näyttää ristin jos emme tee mitään
  }
}
</pre></div><ul Class="menu-goes-here"><li Class="booki-section">Esittely</li><li><a href="/processing-1/index">Johdanto</a></li>
<li><a href="/processing-1/ch002_esimerkkeja">Esimerkkejä</a></li>
<li><a href="/processing-1/ch003_asennus">Asennus</a></li>
<li Class="booki-section">Perusteet</li><li><a href="/processing-1/ch005_perusteet">Perusteet</a></li>
<li Class="booki-section">Suunnittelu</li><li><a href="/processing-1/ch007_suunnittelutila">Suunnittelutila</a></li>
<li><a href="/processing-1/ch008_muodot">Muodot</a></li>
<li><a href="/processing-1/ch009_varit">Värit</a></li>
<li><a href="/processing-1/ch010_kuvat">Kuvat</a></li>
<li><a href="/processing-1/ch011_tekstit">Tekstit</a></li>
<li Class="booki-section">Interaktiivisuus</li><li><a href="/processing-1/ch013_video">Video</a></li>
<li><a href="/processing-1/ch014_videon-tuominen">Videon tuominen</a></li>
<li><a href="/processing-1/ch015_mikrofoni">Mikrofoni</a></li>
<li><a href="/processing-1/ch016_hiiri">Hiiri</a></li>
<li><a href="/processing-1/ch017_nappaimisto">Näppäimistö</a></li>
<li><a href="/processing-1/ch018_tulostaminen">Tulostaminen</a></li>
<li Class="booki-section">Vienti</li><li><a href="/processing-1/ch020_verkkoon-vieminen">Verkkoon vieminen</a></li>
<li Class="booki-section">Animaatio</li><li><a href="/processing-1/ch022_aanet">Äänet</a></li>
<li><a href="/processing-1/ch023_draw-metodi">Draw-metodi</a></li>
<li><a href="/processing-1/ch024_objektien-animointi">Objektien animointi</a></li>
<li><a href="/processing-1/ch025_monien-objektien-animointi">Monien objektien animointi</a></li>
<li><a href="/processing-1/ch026_aikajana">Aikajana</a></li>
<li Class="booki-section">Ohjelmointi</li><li><a href="/processing-1/ch028_kommentit">Kommentit</a></li>
<li><a href="/processing-1/ch029_objektit">Objektit</a></li>
<li><a href="/processing-1/ch030_metodit">Metodit</a></li>
<li><a href="/processing-1/ch031_listat">Listat</a></li>
<li><a href="/processing-1/ch032_toistaminen">Toistaminen</a></li>
<li><a href="/processing-1/ch033_ehdot">Ehdot</a></li>
<li><a href="/processing-1/ch034_muuttujat">Muuttujat</a></li>
<li><a href="/processing-1/ch035_muutokset">Muutokset</a></li>
<li><a href="/processing-1/ch036_rajat">Rajat</a></li>
<li Class="booki-section">Liitteet</li><li><a href="/processing-1/ch038_yleisia-virheita">Yleisiä virheitä</a></li>
<li><a href="/processing-1/ch039_ulkoiset-kirjastot">Ulkoiset kirjastot</a></li>
<li><a href="/processing-1/ch040_dokumentaatio">Dokumentaatio</a></li>
<li><a href="/processing-1/ch041_arduino">Arduino</a></li>
<li><a href="/processing-1/ch042_tasta-oppaasta">Tästä oppaasta</a></li>
<li><a href="/processing-1/ch043_tekijat">Tekijät</a></li>
</ul>
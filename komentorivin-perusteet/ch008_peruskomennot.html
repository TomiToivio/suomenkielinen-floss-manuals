<div id="main-content"><h1>Peruskomennot</h1>
<p>Nyt sinulla on perustiedot hakemistoista ja tiedostoista ja osaat toimia vuorovaikutuksessa komentorivikäyttöliittymän kanssa. Opimme nyt joitain komennoista, joita tulet käyttämään monta kertaa päivässä.</p>
<h2>ls</h2>
<p>Sinun täytyy tietää mitä tiedostoja on jo olemassa, ennen kuin teet muutoksia tiedostoihin. Graafisessa käyttöliittymässä teet tämän avaamalla kansion ja tarkastamalla sen sisällön. Komentoriviltä käytät ohjelmaa "ls" listataksesi kansion sisällön.</p>
<pre>$ <strong>ls</strong>
Asiakirjat        Julkinen  Mallit    Työpöytä
examples.desktop  Kuvat     Musiikki  Video
</pre>
<p>Oletusarvoisesti ls käyttää hyvin tiivistä ulostulomuotoa. Monet päätteet näyttävät tiedostot ja alihakemistot eri väreissä, jotka esittävät eri tiedostotyyppejä. Tavallisten tiedostojen nimet eivät näy erikoisväreissä. Jotkin tiedostotyypit, kuten JPEG tai PNG -kuvat, tai tar ja ZIP -tiedostot, ovat yleensä eri värisiä, ja sama pätee myös suoritettaviin ohjelmiin ja hakemistoihin. Yritä komentoa ls itse ja vertaile kuvakkeita, joita graafinen käyttöliittymäsi käyttää väreihin, joita komentorivillä näkyy. Jos ulostuloa ei ole väritetty, voit värittää ls:n ulostulon valitsimella "--color":  </p>
<pre>$ <strong>ls --color</strong>
</pre>
<h2>man ja apropos</h2>
<p>Voit oppia valitsimista ja argumenteista käyttämällä toista ohjelmaa, jonka nimi on "man" ("man" on lyhenne manuaalista):</p>
<pre>$ <strong>man ls</strong></pre>
<p>Tässä komentoa "man<em>"</em> pyydetään avaamaan käyttöoppaan sivu, joka käsittelee komentoa "ls". Voit käyttää nuolinäppäimiä vierittääksesi käyttöopasta ylös ja alas, ja voit sulkea sen "q"-näppäimellä ("quit", lopeta).</p>
<p>Voit myös käyttää komentoa "man" saadaksesi tietoa uusista ohjelmista. Sanotaanpa, että tahdot nimetä tiedostoja uudestaan käyttäen komentoriviä, mutta et tiedä siihen käytetyn ohjelman nimeä. Voit käyttää ohjelmaa "apropos" sen etsimiseen:</p>
<pre>$ <strong>apropos rename</strong>
...
mv (1) - move (rename) files
prename (1) - renames multiple files
rename (2) - change the name or location of a file
...

</pre>
<p>Tässä "apropos" etsii käyttöoppaan sivuja, joista "man"-komento tietää, ja tulostaa komennot, joiden arvelee liittyvän hakemaasi asiaan. Tietokoneellasi tämä komento voi näyttää enemmän tietoja, mutta niihin sisältyy luultavasti yllä näytetyt komennot.</p>
<p>Huomaa, kuinka ohjelmien nimien vieressä on numero. Tämä numero merkitsee niiden osiota. Useimmat ohjelmat, joita voit käyttää komentoriviltä, ovat osassa 1. Voit laittaa apropos-komennon näyttämään tuloksia vain osasta 1 käyttämällä valitsinta "-s 1":</p>
<pre>$ <strong>apropos -s 1 rename</strong>
...
mv (1) - move (rename) files
prename (1) - renames multiple files
...
</pre>
<p>Tässä vaiheessa osan numero ei ole kovinkaan tärkeä. Täytyy vain tietää, että osan 1 käyttöohjeen sivut ovat ne, jotka soveltuvat ohjelmiin, joita voit käyttää komentoriviltä. Nähdäksesi listan muista osista, katso "man"-komennon käyttöohjetta käyttäen komentoa "man man".</p>
<h3>mv</h3>
<p>Kun katsomme komennon "apropos" tuloksia, "mv"-ohjelma näyttää mielenkiintoiselle. Voit käyttää sitä näin:</p>
<pre>$ <strong>mv vanhanimi uusinimi </strong></pre>
<p>Aivan kuin komennon "apropos" tarjoama kuvaus sanoo, tämä ohjelma siirtää tiedostoja. Jos viimeinen argumenttisi on olemassaoleva tiedosto, "mv" siirtää tiedoston siihen hakemistoon sen sijaan, että nimeäisi sen uudestaan. Tämän vuoksi voit laittaa "mv":hen enemmän kuin kaksi argumenttia:</p>
<pre>$ <strong>mv yksi_tiedosto toinen_tiedosto kolmas_tiedosto ~/kamaa </strong></pre>
<p>Jos hakemisto "~/kamaa" on olemassa, "mv" siirtää tiedostot sinne. Jos sitä ei ole olemassa, se tuottaa virheviestin, kuten tässä:</p>
<p> </p>
<pre>$ <strong>mv </strong><strong><strong>yksi_tiedosto toinen_tiedosto kolmas_tiedosto</strong></strong><strong> kamaa mv: kohde ”kamaa” ei ole hakemisto</strong>
</pre>
<h2>mkdir</h2>
<p>Kuinka hakemiston voi luoda?  Käytä <em>"</em>mkdir<em>"</em> -komentoa:</p>
<pre>$ <strong>mkdir ~/kamaa </strong></pre>
<p>Ja kuinka sen voi poistaa?  Käytä "rmdir" -komentoa:</p>
<pre>$ <strong>rmdir ~/kamaa </strong></pre>
<p>Jos hakemisto, jonka tahdot poistaa, ei ole tyhjä, "rmdir"<em> </em>tuottaa virheviestin eikä poista sitä. Jos tahdot poistaa hakemiston, jossa on tiedostoja, sinun täytyy ensin tyhjentää se. Meidän täytyy luoda hakemisto ja laittaa siihen tiedostoja, jotta voimme nähdä miten poisto tapahtuu. Nämä tiedostot voimme poistaa myöhemmin turvallisesti. Aloitetaanpa luomalla kotihakemistoosi hakemisto, jota kutsutaan nimellä "harjoittelu"<em>, </em>ja siirrytään sinne:</p>
<pre>$ <strong>mkdir ~/harjoittelu</strong>
<strong></strong>$ <strong>cd ~/harjoittelu</strong></pre>
<h2>cp, rm ja rmdir</h2>
<p>Kopioidaanpa nyt joitain tiedostoja sinne käyttäen ohjelmaa "cp". Käytämme joitain tiedostoja, jotka ovat hyvin varmasti olemassa tietokoneellasi, joten seuraavien komentojen pitäisi toimia:  </p>
<pre>$ <strong>cp /etc/fstab /etc/hosts /etc/issue /etc/motd .</strong>
$ <strong>ls</strong>
fstab hosts issue motd</pre>
<p>Älä unohda pistettä rivin lopussa! Muista, että se tarkoittaa "tämä hakemisto". Kuten näet, sinun täytyy antaa "cp"-komennolle lista tiedostoja, jotka tahdot kopioida, ja kohde, johon tiedostot kopioidaan. Jos tahdot nyt mennä takaisin kotihakemistoosi ja poistaa hakemiston, jota kutsutaan nimellä "harjoittelu", "rmdir" tuottaa virheviestin:</p>
<pre>$ <strong>cd ..</strong>
$ <strong>rmdir harjoittelu</strong>
rmdir: ”harjoittelu”:n poisto epäonnistui: Hakemisto ei ole tyhjä</pre>
<p>Voit käyttää ohjelmaa "rm"<em> </em>poistaaksesi tiedostot: </p>
<pre>$ <strong>rm harjoittelu/fstab harjoittelu/hosts harjoittelu/issue harjoittelu/motd </strong></pre>
<p>Nyt voit yrittää poistaa hakemiston uudestaan:</p>
<pre>$ <strong>rmdir harjoittelu</strong></pre>
<p>Nyt se toimii, näyttämättä mitään ulostuloa.</p>
<p>Mutta mitä tapahtuu, jos hakemistojesi sisällä on hakemistoja, joiden sisällä on tiedostoja. Voisit joutua tyhjentämään hakemistoja viikkojen ajan! "rm"-komento ratkaisee tämän ongelman "-r" -optiolla, mikä merkitsee "rekursiivista". Seuraavassa esimerkissä komento epäonnistuu, koska "foo" ei ole pelkkä tiedosto:   </p>
<pre>$ <strong>rm foo</strong>/
rm: tiedostoa ”foo/” ei voi poistaa: Tiedostoa tai hakemistoa ei ole
</pre>
<p>Joten ehkä kokeilet "rmdir"-komentoa, mutta sekin epäonnistuu, koska "foo"-hakemiston alla on jotain muuta:</p>
<pre>$ <strong>rmdir foo</strong>
rmdir: foo: File exists
</pre>
<p>Kun käytät komentoa "rm -r", se onnistuu eikä tuota viestiä. </p>
<pre>$ <strong>rm -r foo</strong>/
</pre>
<p>Kun sinulla on suuri hakemisto, et joudu poistamaan jokaista alihakemistoa.</p>
<p>Ole varovainen, sillä "-r" on hyvin voimakas argumentti, ja voit menettää tietoa, jonka olisit tahtonut säilyttää! </p>
<h2><strong>cat ja less </strong></h2>
<p>Et tarvitse editoria katsoaksesi tiedoston sisältöä. Sinun täytyy vain näyttää se. "cat"-ohjelma sopii tähän tarkoitukseen: </p>
<pre>$ <strong>cat myspeech.txt</strong>
Friends, Romans, Countrymen! Lend me your ears!
</pre>
<p>Tässä "cat" vain avaa tiedoston "myspeech.txt" ja tulostaa koko tiedoston näytöllesi, niin nopeasti kuin kykenee. Kuitenkin, jos tiedosto on todella pitkä, sisältö menee ohi hyvin nopeasti, ja kun "cat" on valmis, näet pelkästään tiedoston viimeiset rivit. Katso pitkän tiedoston sisältöä (tai minkä tahansa tekstitiedoston sisältöä) käyttäen "less"-ohjelmaa: </p>
<pre><strong> $ less myspeech.txt</strong></pre>
<p>Aivan kuin käytettäessä komentoa "man", käytä nuolinäppäimiä navigointiin ja paina "q" poistuaksesi ohjelmasta.</p></div><ul Class="menu-goes-here"><li Class="booki-section">Johdanto</li><li><a href="/komentorivin-perusteet/index">Ota komento</a></li>
<li Class="booki-section">Perusteet</li><li><a href="/komentorivin-perusteet/ch003_aloittaminen">Käytön aloittaminen</a></li>
<li><a href="/komentorivin-perusteet/ch004_syntaksi">Syntaksi</a></li>
<li><a href="/komentorivin-perusteet/ch005_ympariinsa-siirtyminen">Ympäriinsä siirtyminen</a></li>
<li><a href="/komentorivin-perusteet/ch006_tiedostorakenne">Tiedostorakenne</a></li>
<li Class="booki-section">Komennot</li><li><a href="/komentorivin-perusteet/ch008_peruskomennot">Peruskomennot</a></li>
<li><a href="/komentorivin-perusteet/ch009_jarjestelmanvalvojat">Järjestelmänvalvoja</a></li>
<li><a href="/komentorivin-perusteet/ch010_useammat-tiedostot">Useammat tiedostot</a></li>
<li><a href="/komentorivin-perusteet/ch011_kirjoita-vahemman">Kirjoita vähemmän</a></li>
<li Class="booki-section">Keskivaikeita komentoja</li><li><a href="/komentorivin-perusteet/ch013_putkitus">Putkitus</a></li>
<li><a href="/komentorivin-perusteet/ch014_komentohistoria">Komentohistoria</a></li>
<li><a href="/komentorivin-perusteet/ch015_standarditiedostot">Standarditiedostot</a></li>
<li Class="booki-section">Kehittyneempiä komentoja</li><li><a href="/komentorivin-perusteet/ch017_kayttooikeudet">Käyttöoikeudet</a></li>
<li><a href="/komentorivin-perusteet/ch018_interaktiivinen-muokkaus">Interaktiivinen muokkaus</a></li>
<li><a href="/komentorivin-perusteet/ch019_poistumisen-tarkastaminen">Poistumisen tarkastaminen</a></li>
<li><a href="/komentorivin-perusteet/ch020_alikomennot">Alikomennot</a></li>
<li><a href="/komentorivin-perusteet/ch021_hakemistot">Hakemistot</a></li>
<li><a href="/komentorivin-perusteet/ch022_kustomisointi">Kustomisointi</a></li>
<li><a href="/komentorivin-perusteet/ch023_parametrien-korvaaminen">Parametrien korvaaminen</a></li>
<li><a href="/komentorivin-perusteet/ch024_gnuscreen">GNUScreen</a></li>
<li><a href="/komentorivin-perusteet/ch025_ssh">SSH</a></li>
<li><a href="/komentorivin-perusteet/ch026_ohjelmien-asentaminen">Ohjelmien asentaminen</a></li>
<li Class="booki-section">Tekstieditorit</li><li><a href="/komentorivin-perusteet/ch028_tekstieditorit">Tekstieditorit</a></li>
<li><a href="/komentorivin-perusteet/ch029_nano">Nano</a></li>
<li><a href="/komentorivin-perusteet/ch030_vi-ja-vim">Vi ja Vim</a></li>
<li><a href="/komentorivin-perusteet/ch031_emacs">Emacs</a></li>
<li><a href="/komentorivin-perusteet/ch032_kedit">Kedit</a></li>
<li><a href="/komentorivin-perusteet/ch033_gedit">Gedit</a></li>
<li Class="booki-section">Skriptaus</li><li><a href="/komentorivin-perusteet/ch035_skriptaus">Skriptaus</a></li>
<li><a href="/komentorivin-perusteet/ch036_skriptien-huoltaminen">Skriptien huoltaminen</a></li>
<li><a href="/komentorivin-perusteet/ch037_muut-kielet">Muut kielet</a></li>
<li><a href="/komentorivin-perusteet/ch038_sed">Sed</a></li>
<li><a href="/komentorivin-perusteet/ch039_awk">AWK</a></li>
<li><a href="/komentorivin-perusteet/ch040_saannolliset-lausekkeet">Säännölliset lausekkeet</a></li>
<li><a href="/komentorivin-perusteet/ch041_perl">Perl</a></li>
<li><a href="/komentorivin-perusteet/ch042_ruby">Ruby</a></li>
<li><a href="/komentorivin-perusteet/ch043_python">Python</a></li>
<li Class="booki-section">Komennot nopeasti</li><li><a href="/komentorivin-perusteet/ch045_komentojen-pikaopas">Komentojen pikaopas</a></li>
<li Class="booki-section">Liitteet</li><li><a href="/komentorivin-perusteet/ch047_tasta-kayttooppaasta">Tästä käyttöoppaasta</a></li>
<li><a href="/komentorivin-perusteet/ch048_tekijat">Tekijät</a></li>
</ul>